{"ast":null,"code":"import{useRef,useEffect}from\"react\";import{motion}from\"framer-motion\";import{Terminal,Trash2,Copy,Download}from\"lucide-react\";import{ScrollArea}from\"@/components/ui/scroll-area\";import{toast}from\"sonner\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const TerminalOutput=_ref=>{let{output,onClear}=_ref;const scrollRef=useRef(null);useEffect(()=>{if(scrollRef.current){scrollRef.current.scrollTop=scrollRef.current.scrollHeight;}},[output]);const handleCopy=()=>{navigator.clipboard.writeText(output);toast.success(\"Output copied to clipboard\");};const handleDownload=()=>{const blob=new Blob([output],{type:\"text/plain\"});const url=URL.createObjectURL(blob);const a=document.createElement(\"a\");a.href=url;a.download=\"nexus_output_\".concat(Date.now(),\".txt\");a.click();URL.revokeObjectURL(url);toast.success(\"Output downloaded\");};const formatOutput=text=>{if(!text)return null;return text.split(\"\\n\").map((line,index)=>{let className=\"text-[#00FF41]\";if(line.startsWith(\"[+]\")||line.includes(\"success\")){className=\"text-[#00FF41]\";}else if(line.startsWith(\"[-]\")||line.includes(\"error\")||line.includes(\"Error\")){className=\"text-[#FF3B30]\";}else if(line.startsWith(\"[*]\")||line.includes(\"INFO\")){className=\"text-[#00F0FF]\";}else if(line.startsWith(\"[!]\")||line.includes(\"warning\")||line.includes(\"Warning\")){className=\"text-[#FFB000]\";}else if(line.includes(\"PORT\")||line.includes(\"STATE\")||line.includes(\"SERVICE\")){className=\"text-white/90 font-semibold\";}return/*#__PURE__*/_jsx(\"div\",{className:className,children:line||\"\\u00A0\"},index);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-full\",\"data-testid\":\"terminal-output-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Terminal,{className:\"w-4 h-4 text-[#00FF41]\"}),/*#__PURE__*/_jsx(\"span\",{className:\"panel-title\",children:\"OUTPUT TERMINAL\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCopy,disabled:!output,className:\"p-1.5 text-[#666666] hover:text-[#00FF41] disabled:opacity-30 transition-colors\",title:\"Copy output\",\"data-testid\":\"copy-output-btn\",children:/*#__PURE__*/_jsx(Copy,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDownload,disabled:!output,className:\"p-1.5 text-[#666666] hover:text-[#00FF41] disabled:opacity-30 transition-colors\",title:\"Download output\",\"data-testid\":\"download-output-btn\",children:/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:onClear,disabled:!output,className:\"p-1.5 text-[#666666] hover:text-[#FF3B30] disabled:opacity-30 transition-colors\",title:\"Clear output\",\"data-testid\":\"clear-output-btn\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})]}),/*#__PURE__*/_jsx(ScrollArea,{className:\"flex-1 bg-black\",ref:scrollRef,children:/*#__PURE__*/_jsx(\"div\",{className:\"terminal-output min-h-[300px] relative scanlines\",children:!output?/*#__PURE__*/_jsxs(\"div\",{className:\"text-[#666666]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[#00FF41]\",children:\"root@nexus\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\":\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[#00F0FF]\",children:\"~\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\"$ \"}),/*#__PURE__*/_jsx(\"span\",{className:\"cursor-blink\",children:\"_\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs opacity-50\",children:\"Execute tools from the Tools Panel to see output here...\"})]}):/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:\"font-mono text-xs leading-relaxed\",children:[formatOutput(output),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[#00FF41]\",children:\"root@nexus\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\":\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[#00F0FF]\",children:\"~\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\"$ \"}),/*#__PURE__*/_jsx(\"span\",{className:\"cursor-blink\",children:\"_\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2 border-t border-white/5 bg-black\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-[10px] font-mono text-[#666666]\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[output?output.split(\"\\n\").length:0,\" lines\"]}),/*#__PURE__*/_jsx(\"span\",{children:\"UTF-8\"})]})})]});};","map":{"version":3,"names":["useRef","useEffect","motion","Terminal","Trash2","Copy","Download","ScrollArea","toast","jsx","_jsx","jsxs","_jsxs","TerminalOutput","_ref","output","onClear","scrollRef","current","scrollTop","scrollHeight","handleCopy","navigator","clipboard","writeText","success","handleDownload","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","concat","Date","now","click","revokeObjectURL","formatOutput","text","split","map","line","index","className","startsWith","includes","children","onClick","disabled","title","ref","div","initial","opacity","animate","length"],"sources":["/home/claude/nexus-apk/src/components/TerminalOutput.jsx"],"sourcesContent":["import { useRef, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Terminal, Trash2, Copy, Download } from \"lucide-react\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { toast } from \"sonner\";\n\nexport const TerminalOutput = ({ output, onClear }) => {\n  const scrollRef = useRef(null);\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }\n  }, [output]);\n\n  const handleCopy = () => {\n    navigator.clipboard.writeText(output);\n    toast.success(\"Output copied to clipboard\");\n  };\n\n  const handleDownload = () => {\n    const blob = new Blob([output], { type: \"text/plain\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `nexus_output_${Date.now()}.txt`;\n    a.click();\n    URL.revokeObjectURL(url);\n    toast.success(\"Output downloaded\");\n  };\n\n  const formatOutput = (text) => {\n    if (!text) return null;\n\n    return text.split(\"\\n\").map((line, index) => {\n      let className = \"text-[#00FF41]\";\n      \n      if (line.startsWith(\"[+]\") || line.includes(\"success\")) {\n        className = \"text-[#00FF41]\";\n      } else if (line.startsWith(\"[-]\") || line.includes(\"error\") || line.includes(\"Error\")) {\n        className = \"text-[#FF3B30]\";\n      } else if (line.startsWith(\"[*]\") || line.includes(\"INFO\")) {\n        className = \"text-[#00F0FF]\";\n      } else if (line.startsWith(\"[!]\") || line.includes(\"warning\") || line.includes(\"Warning\")) {\n        className = \"text-[#FFB000]\";\n      } else if (line.includes(\"PORT\") || line.includes(\"STATE\") || line.includes(\"SERVICE\")) {\n        className = \"text-white/90 font-semibold\";\n      }\n\n      return (\n        <div key={index} className={className}>\n          {line || \"\\u00A0\"}\n        </div>\n      );\n    });\n  };\n\n  return (\n    <div className=\"flex flex-col h-full\" data-testid=\"terminal-output-container\">\n      {/* Header */}\n      <div className=\"panel-header\">\n        <div className=\"flex items-center gap-2\">\n          <Terminal className=\"w-4 h-4 text-[#00FF41]\" />\n          <span className=\"panel-title\">OUTPUT TERMINAL</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={handleCopy}\n            disabled={!output}\n            className=\"p-1.5 text-[#666666] hover:text-[#00FF41] disabled:opacity-30 transition-colors\"\n            title=\"Copy output\"\n            data-testid=\"copy-output-btn\"\n          >\n            <Copy className=\"w-4 h-4\" />\n          </button>\n          <button\n            onClick={handleDownload}\n            disabled={!output}\n            className=\"p-1.5 text-[#666666] hover:text-[#00FF41] disabled:opacity-30 transition-colors\"\n            title=\"Download output\"\n            data-testid=\"download-output-btn\"\n          >\n            <Download className=\"w-4 h-4\" />\n          </button>\n          <button\n            onClick={onClear}\n            disabled={!output}\n            className=\"p-1.5 text-[#666666] hover:text-[#FF3B30] disabled:opacity-30 transition-colors\"\n            title=\"Clear output\"\n            data-testid=\"clear-output-btn\"\n          >\n            <Trash2 className=\"w-4 h-4\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Terminal Content */}\n      <ScrollArea className=\"flex-1 bg-black\" ref={scrollRef}>\n        <div className=\"terminal-output min-h-[300px] relative scanlines\">\n          {!output ? (\n            <div className=\"text-[#666666]\">\n              <div className=\"mb-2\">\n                <span className=\"text-[#00FF41]\">root@nexus</span>\n                <span className=\"text-white\">:</span>\n                <span className=\"text-[#00F0FF]\">~</span>\n                <span className=\"text-white\">$ </span>\n                <span className=\"cursor-blink\">_</span>\n              </div>\n              <div className=\"text-xs opacity-50\">\n                Execute tools from the Tools Panel to see output here...\n              </div>\n            </div>\n          ) : (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              className=\"font-mono text-xs leading-relaxed\"\n            >\n              {formatOutput(output)}\n              <div className=\"mt-2\">\n                <span className=\"text-[#00FF41]\">root@nexus</span>\n                <span className=\"text-white\">:</span>\n                <span className=\"text-[#00F0FF]\">~</span>\n                <span className=\"text-white\">$ </span>\n                <span className=\"cursor-blink\">_</span>\n              </div>\n            </motion.div>\n          )}\n        </div>\n      </ScrollArea>\n\n      {/* Footer */}\n      <div className=\"px-3 py-2 border-t border-white/5 bg-black\">\n        <div className=\"flex items-center justify-between text-[10px] font-mono text-[#666666]\">\n          <span>{output ? output.split(\"\\n\").length : 0} lines</span>\n          <span>UTF-8</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}