{"ast":null,"code":"import{useState}from\"react\";import{mr7,settingsStore}from\"../services/nexusCore\";import{Search,Shield,AlertTriangle,Database,Eye,Loader2}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TABS=[\"THREAT INTEL\",\"IOC LOOKUP\",\"CRED EXPOSURE\",\"EXPLOIT SEARCH\"];export const ThreatIntelPanel=()=>{const[tab,setTab]=useState(0);const[query,setQuery]=useState(\"\");const[results,setResults]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const search=async()=>{if(!query.trim())return;setLoading(true);setError(\"\");setResults(null);const settings=settingsStore.getAll();mr7.setApiKey(settings.mr7ApiKey);try{let data;switch(tab){case 0:data=await mr7.threatIntelSearch(query);break;case 1:data=await mr7.iocLookup(query);break;case 2:data=await mr7.credentialCheck(query);break;case 3:data=await mr7.exploitSearch(query);break;default:break;}setResults(data);}catch(e){setError(e.message);}finally{setLoading(false);}};const tabColors=[\"#00FF41\",\"#00F0FF\",\"#FF3B30\",\"#FFB000\"];const tabIcons=[Shield,Eye,Database,AlertTriangle];return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4 max-w-4xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-5 h-5 text-[#00FF41]\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"font-mono text-sm text-[#00FF41] tracking-wider\",children:\"THREAT INTELLIGENCE\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] font-mono text-[#666666] ml-auto\",children:\"Powered by mr7.ai\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-1 border-b border-white/10\",children:TABS.map((t,i)=>{const Icon=tabIcons[i];return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setTab(i);setResults(null);setError(\"\");},className:\"px-4 py-2 font-mono text-[10px] tracking-wider transition-colors flex items-center gap-2\",style:tab===i?{color:tabColors[i],borderBottom:\"2px solid \".concat(tabColors[i])}:{color:\"#666666\"},children:[/*#__PURE__*/_jsx(Icon,{className:\"w-3 h-3\"}),t]},t);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:query,onChange:e=>setQuery(e.target.value),onKeyDown:e=>e.key===\"Enter\"&&search(),placeholder:[\"Search threat actors, malware, campaigns...\",\"IP, domain, hash, URL...\",\"Email or domain to check...\",\"CVE, software, version...\"][tab],className:\"flex-1 bg-black/60 border border-white/10 text-white font-mono text-xs px-4 py-3 outline-none focus:border-white/30\",style:{borderColor:\"\".concat(tabColors[tab],\"30\")}}),/*#__PURE__*/_jsxs(\"button\",{onClick:search,disabled:loading||!query.trim(),className:\"px-6 border font-mono text-xs flex items-center gap-2 transition-colors disabled:opacity-30\",style:{backgroundColor:\"\".concat(tabColors[tab],\"15\"),borderColor:\"\".concat(tabColors[tab],\"50\"),color:tabColors[tab]},children:[loading?/*#__PURE__*/_jsx(Loader2,{className:\"w-4 h-4 animate-spin\"}):/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4\"}),\"SEARCH\"]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#FF3B30]/10 border border-[#FF3B30]/30 p-4 font-mono text-xs text-[#FF3B30]\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-4 h-4 inline mr-2\"}),error]}),results&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-black/60 border border-white/10 p-4 font-mono text-xs text-white/80 overflow-auto max-h-[60vh]\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap text-[11px] leading-relaxed\",children:JSON.stringify(results,null,2)})}),!results&&!loading&&!error&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-16 text-[#666666] font-mono text-xs\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-12 h-12 mx-auto mb-4 opacity-20\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Enter a query to search mr7.ai threat intelligence\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex flex-wrap gap-2 justify-center\",children:[[\"APT28\",0],[\"192.168.1.1\",1],[\"admin@target.com\",2],[\"log4shell\",3]].map(_ref=>{let[s,i]=_ref;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setTab(i);setQuery(s);},className:\"px-3 py-1 text-[10px] border border-white/10 text-white/40 hover:border-white/30 hover:text-white/70 transition-colors\",children:s},s);})})]})]});};","map":{"version":3,"names":["useState","mr7","settingsStore","Search","Shield","AlertTriangle","Database","Eye","Loader2","jsx","_jsx","jsxs","_jsxs","TABS","ThreatIntelPanel","tab","setTab","query","setQuery","results","setResults","loading","setLoading","error","setError","search","trim","settings","getAll","setApiKey","mr7ApiKey","data","threatIntelSearch","iocLookup","credentialCheck","exploitSearch","e","message","tabColors","tabIcons","className","children","map","t","i","Icon","onClick","style","color","borderBottom","concat","value","onChange","target","onKeyDown","key","placeholder","borderColor","disabled","backgroundColor","JSON","stringify","_ref","s"],"sources":["/home/claude/nexus-apk/src/components/ThreatIntelPanel.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { mr7, settingsStore } from \"../services/nexusCore\";\nimport { Search, Shield, AlertTriangle, Database, Eye, Loader2 } from \"lucide-react\";\n\nconst TABS = [\"THREAT INTEL\", \"IOC LOOKUP\", \"CRED EXPOSURE\", \"EXPLOIT SEARCH\"];\n\nexport const ThreatIntelPanel = () => {\n  const [tab, setTab] = useState(0);\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const search = async () => {\n    if (!query.trim()) return;\n    setLoading(true);\n    setError(\"\");\n    setResults(null);\n\n    const settings = settingsStore.getAll();\n    mr7.setApiKey(settings.mr7ApiKey);\n\n    try {\n      let data;\n      switch (tab) {\n        case 0: data = await mr7.threatIntelSearch(query); break;\n        case 1: data = await mr7.iocLookup(query); break;\n        case 2: data = await mr7.credentialCheck(query); break;\n        case 3: data = await mr7.exploitSearch(query); break;\n        default: break;\n      }\n      setResults(data);\n    } catch (e) {\n      setError(e.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const tabColors = [\"#00FF41\", \"#00F0FF\", \"#FF3B30\", \"#FFB000\"];\n  const tabIcons = [Shield, Eye, Database, AlertTriangle];\n\n  return (\n    <div className=\"p-6 space-y-4 max-w-4xl\">\n      <div className=\"flex items-center gap-3 mb-4\">\n        <Shield className=\"w-5 h-5 text-[#00FF41]\" />\n        <h2 className=\"font-mono text-sm text-[#00FF41] tracking-wider\">THREAT INTELLIGENCE</h2>\n        <span className=\"text-[10px] font-mono text-[#666666] ml-auto\">Powered by mr7.ai</span>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"flex gap-1 border-b border-white/10\">\n        {TABS.map((t, i) => {\n          const Icon = tabIcons[i];\n          return (\n            <button\n              key={t}\n              onClick={() => { setTab(i); setResults(null); setError(\"\"); }}\n              className=\"px-4 py-2 font-mono text-[10px] tracking-wider transition-colors flex items-center gap-2\"\n              style={tab === i ? { color: tabColors[i], borderBottom: `2px solid ${tabColors[i]}` } : { color: \"#666666\" }}\n            >\n              <Icon className=\"w-3 h-3\" />\n              {t}\n            </button>\n          );\n        })}\n      </div>\n\n      {/* Search */}\n      <div className=\"flex gap-2\">\n        <input\n          value={query}\n          onChange={e => setQuery(e.target.value)}\n          onKeyDown={e => e.key === \"Enter\" && search()}\n          placeholder={[\n            \"Search threat actors, malware, campaigns...\",\n            \"IP, domain, hash, URL...\",\n            \"Email or domain to check...\",\n            \"CVE, software, version...\",\n          ][tab]}\n          className=\"flex-1 bg-black/60 border border-white/10 text-white font-mono text-xs px-4 py-3 outline-none focus:border-white/30\"\n          style={{ borderColor: `${tabColors[tab]}30` }}\n        />\n        <button\n          onClick={search}\n          disabled={loading || !query.trim()}\n          className=\"px-6 border font-mono text-xs flex items-center gap-2 transition-colors disabled:opacity-30\"\n          style={{ backgroundColor: `${tabColors[tab]}15`, borderColor: `${tabColors[tab]}50`, color: tabColors[tab] }}\n        >\n          {loading ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <Search className=\"w-4 h-4\" />}\n          SEARCH\n        </button>\n      </div>\n\n      {/* Error */}\n      {error && (\n        <div className=\"bg-[#FF3B30]/10 border border-[#FF3B30]/30 p-4 font-mono text-xs text-[#FF3B30]\">\n          <AlertTriangle className=\"w-4 h-4 inline mr-2\" />\n          {error}\n        </div>\n      )}\n\n      {/* Results */}\n      {results && (\n        <div className=\"bg-black/60 border border-white/10 p-4 font-mono text-xs text-white/80 overflow-auto max-h-[60vh]\">\n          <pre className=\"whitespace-pre-wrap text-[11px] leading-relaxed\">\n            {JSON.stringify(results, null, 2)}\n          </pre>\n        </div>\n      )}\n\n      {!results && !loading && !error && (\n        <div className=\"text-center py-16 text-[#666666] font-mono text-xs\">\n          <Shield className=\"w-12 h-12 mx-auto mb-4 opacity-20\" />\n          <p>Enter a query to search mr7.ai threat intelligence</p>\n          <div className=\"mt-4 flex flex-wrap gap-2 justify-center\">\n            {[[\"APT28\", 0], [\"192.168.1.1\", 1], [\"admin@target.com\", 2], [\"log4shell\", 3]].map(([s, i]) => (\n              <button\n                key={s}\n                onClick={() => { setTab(i); setQuery(s); }}\n                className=\"px-3 py-1 text-[10px] border border-white/10 text-white/40 hover:border-white/30 hover:text-white/70 transition-colors\"\n              >\n                {s}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,GAAG,CAAEC,aAAa,KAAQ,uBAAuB,CAC1D,OAASC,MAAM,CAAEC,MAAM,CAAEC,aAAa,CAAEC,QAAQ,CAAEC,GAAG,CAAEC,OAAO,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErF,KAAM,CAAAC,IAAI,CAAG,CAAC,cAAc,CAAE,YAAY,CAAE,eAAe,CAAE,gBAAgB,CAAC,CAE9E,MAAO,MAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CACpC,KAAM,CAACC,GAAG,CAAEC,MAAM,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CACjC,KAAM,CAACiB,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACmB,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACuB,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAyB,MAAM,CAAG,KAAAA,CAAA,GAAY,CACzB,GAAI,CAACR,KAAK,CAACS,IAAI,CAAC,CAAC,CAAE,OACnBJ,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CACZJ,UAAU,CAAC,IAAI,CAAC,CAEhB,KAAM,CAAAO,QAAQ,CAAGzB,aAAa,CAAC0B,MAAM,CAAC,CAAC,CACvC3B,GAAG,CAAC4B,SAAS,CAACF,QAAQ,CAACG,SAAS,CAAC,CAEjC,GAAI,CACF,GAAI,CAAAC,IAAI,CACR,OAAQhB,GAAG,EACT,IAAK,EAAC,CAAEgB,IAAI,CAAG,KAAM,CAAA9B,GAAG,CAAC+B,iBAAiB,CAACf,KAAK,CAAC,CAAE,MACnD,IAAK,EAAC,CAAEc,IAAI,CAAG,KAAM,CAAA9B,GAAG,CAACgC,SAAS,CAAChB,KAAK,CAAC,CAAE,MAC3C,IAAK,EAAC,CAAEc,IAAI,CAAG,KAAM,CAAA9B,GAAG,CAACiC,eAAe,CAACjB,KAAK,CAAC,CAAE,MACjD,IAAK,EAAC,CAAEc,IAAI,CAAG,KAAM,CAAA9B,GAAG,CAACkC,aAAa,CAAClB,KAAK,CAAC,CAAE,MAC/C,QAAS,MACX,CACAG,UAAU,CAACW,IAAI,CAAC,CAClB,CAAE,MAAOK,CAAC,CAAE,CACVZ,QAAQ,CAACY,CAAC,CAACC,OAAO,CAAC,CACrB,CAAC,OAAS,CACRf,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAgB,SAAS,CAAG,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAC,CAC9D,KAAM,CAAAC,QAAQ,CAAG,CAACnC,MAAM,CAAEG,GAAG,CAAED,QAAQ,CAAED,aAAa,CAAC,CAEvD,mBACEO,KAAA,QAAK4B,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC7B,KAAA,QAAK4B,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3C/B,IAAA,CAACN,MAAM,EAACoC,SAAS,CAAC,wBAAwB,CAAE,CAAC,cAC7C9B,IAAA,OAAI8B,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cACxF/B,IAAA,SAAM8B,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,mBAAiB,CAAM,CAAC,EACpF,CAAC,cAGN/B,IAAA,QAAK8B,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CACjD5B,IAAI,CAAC6B,GAAG,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CAClB,KAAM,CAAAC,IAAI,CAAGN,QAAQ,CAACK,CAAC,CAAC,CACxB,mBACEhC,KAAA,WAEEkC,OAAO,CAAEA,CAAA,GAAM,CAAE9B,MAAM,CAAC4B,CAAC,CAAC,CAAExB,UAAU,CAAC,IAAI,CAAC,CAAEI,QAAQ,CAAC,EAAE,CAAC,CAAE,CAAE,CAC9DgB,SAAS,CAAC,0FAA0F,CACpGO,KAAK,CAAEhC,GAAG,GAAK6B,CAAC,CAAG,CAAEI,KAAK,CAAEV,SAAS,CAACM,CAAC,CAAC,CAAEK,YAAY,cAAAC,MAAA,CAAeZ,SAAS,CAACM,CAAC,CAAC,CAAG,CAAC,CAAG,CAAEI,KAAK,CAAE,SAAU,CAAE,CAAAP,QAAA,eAE7G/B,IAAA,CAACmC,IAAI,EAACL,SAAS,CAAC,SAAS,CAAE,CAAC,CAC3BG,CAAC,GANGA,CAOC,CAAC,CAEb,CAAC,CAAC,CACC,CAAC,cAGN/B,KAAA,QAAK4B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB/B,IAAA,UACEyC,KAAK,CAAElC,KAAM,CACbmC,QAAQ,CAAEhB,CAAC,EAAIlB,QAAQ,CAACkB,CAAC,CAACiB,MAAM,CAACF,KAAK,CAAE,CACxCG,SAAS,CAAElB,CAAC,EAAIA,CAAC,CAACmB,GAAG,GAAK,OAAO,EAAI9B,MAAM,CAAC,CAAE,CAC9C+B,WAAW,CAAE,CACX,6CAA6C,CAC7C,0BAA0B,CAC1B,6BAA6B,CAC7B,2BAA2B,CAC5B,CAACzC,GAAG,CAAE,CACPyB,SAAS,CAAC,qHAAqH,CAC/HO,KAAK,CAAE,CAAEU,WAAW,IAAAP,MAAA,CAAKZ,SAAS,CAACvB,GAAG,CAAC,MAAK,CAAE,CAC/C,CAAC,cACFH,KAAA,WACEkC,OAAO,CAAErB,MAAO,CAChBiC,QAAQ,CAAErC,OAAO,EAAI,CAACJ,KAAK,CAACS,IAAI,CAAC,CAAE,CACnCc,SAAS,CAAC,6FAA6F,CACvGO,KAAK,CAAE,CAAEY,eAAe,IAAAT,MAAA,CAAKZ,SAAS,CAACvB,GAAG,CAAC,MAAI,CAAE0C,WAAW,IAAAP,MAAA,CAAKZ,SAAS,CAACvB,GAAG,CAAC,MAAI,CAAEiC,KAAK,CAAEV,SAAS,CAACvB,GAAG,CAAE,CAAE,CAAA0B,QAAA,EAE5GpB,OAAO,cAAGX,IAAA,CAACF,OAAO,EAACgC,SAAS,CAAC,sBAAsB,CAAE,CAAC,cAAG9B,IAAA,CAACP,MAAM,EAACqC,SAAS,CAAC,SAAS,CAAE,CAAC,CAAC,QAE3F,EAAQ,CAAC,EACN,CAAC,CAGLjB,KAAK,eACJX,KAAA,QAAK4B,SAAS,CAAC,iFAAiF,CAAAC,QAAA,eAC9F/B,IAAA,CAACL,aAAa,EAACmC,SAAS,CAAC,qBAAqB,CAAE,CAAC,CAChDjB,KAAK,EACH,CACN,CAGAJ,OAAO,eACNT,IAAA,QAAK8B,SAAS,CAAC,mGAAmG,CAAAC,QAAA,cAChH/B,IAAA,QAAK8B,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAC7DmB,IAAI,CAACC,SAAS,CAAC1C,OAAO,CAAE,IAAI,CAAE,CAAC,CAAC,CAC9B,CAAC,CACH,CACN,CAEA,CAACA,OAAO,EAAI,CAACE,OAAO,EAAI,CAACE,KAAK,eAC7BX,KAAA,QAAK4B,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eACjE/B,IAAA,CAACN,MAAM,EAACoC,SAAS,CAAC,mCAAmC,CAAE,CAAC,cACxD9B,IAAA,MAAA+B,QAAA,CAAG,oDAAkD,CAAG,CAAC,cACzD/B,IAAA,QAAK8B,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CACtD,CAAC,CAAC,OAAO,CAAE,CAAC,CAAC,CAAE,CAAC,aAAa,CAAE,CAAC,CAAC,CAAE,CAAC,kBAAkB,CAAE,CAAC,CAAC,CAAE,CAAC,WAAW,CAAE,CAAC,CAAC,CAAC,CAACC,GAAG,CAACoB,IAAA,MAAC,CAACC,CAAC,CAAEnB,CAAC,CAAC,CAAAkB,IAAA,oBACxFpD,IAAA,WAEEoC,OAAO,CAAEA,CAAA,GAAM,CAAE9B,MAAM,CAAC4B,CAAC,CAAC,CAAE1B,QAAQ,CAAC6C,CAAC,CAAC,CAAE,CAAE,CAC3CvB,SAAS,CAAC,wHAAwH,CAAAC,QAAA,CAEjIsB,CAAC,EAJGA,CAKC,CAAC,EACV,CAAC,CACC,CAAC,EACH,CACN,EACE,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}